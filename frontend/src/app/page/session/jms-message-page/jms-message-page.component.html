<div class="container-fluid">

  <mat-card class="mb-2">
    <mat-card-header>
      <mat-card-title>{{ target }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="row justify-content-between mb-2">
        <div class="col-auto btn-group" role="group">
          <button type="button" (click) = "doSend()" class="btn btn-secondary"><mat-icon>call_made</mat-icon> Send</button>
          <button type="button" (click) = "doListen()" class="btn btn-secondary"><mat-icon>call_received</mat-icon> Listen</button>
        </div>
        <div class="col-auto">
          <button type="button" class="btn btn-secondary" (click) = "doListen()"><i class="fa fa-floppy-o"></i> Save</button>
        </div>
      </div>

      <app-jms-headers class="block mb-2" [(header)] = "jmsHeader"></app-jms-headers>
      
      <app-ace-editor [(value)] = "jmsMessage" [key] = "target"></app-ace-editor>
      
      <div class="row">
        <div class="col-10"></div>
        <div class="col-2">Time:&nbsp;45ms</div>
        <div class="col-1">status</div>
      </div>
    </mat-card-content>
  </mat-card>

  
  
  <mat-accordion>
      <mat-expansion-panel *ngFor="let m of receivedMessages">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>email</mat-icon> Received at: {{ m.header.JMSDeliveryTime | date:'medium' }}
          </mat-panel-title>
          <mat-panel-description>
              Body length {{ m.body?.length }}
          </mat-panel-description>
        </mat-expansion-panel-header>

        <app-jms-message [jms-message] = 'm'></app-jms-message>

      </mat-expansion-panel>
  </mat-accordion>
</div>
