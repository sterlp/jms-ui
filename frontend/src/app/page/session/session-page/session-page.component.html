<!-- action bar in breadcrumb -->
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item" aria-current="page" ><a [routerLink]="['/jms-connectors']">Connectors</a></li>  
    <li class="breadcrumb-item" aria-current="page">Sessions</li>
    <li class="breadcrumb-item active" aria-current="page">{{ conData?.name }}</li>

    <app-loading *ngIf="loading$ | async"></app-loading>

    <li class="breadcrumb-menu">
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-link" (click)="doDisconnect()"><i class="fa fa-times" aria-hidden="true"></i> Disconnect</button>
        </div>
    </li>
  </ol>
</nav>

<div class="container-fluid">

  <mat-card class="mat-elevation-z8 mb-4">
    <mat-card-header><mat-card-title>Bookmarks</mat-card-title></mat-card-header>
    <mat-card-content>
      <app-bookmarks [connectorId]="id"></app-bookmarks>
    </mat-card-content>
  </mat-card>

  <mat-card *ngIf="dataSource" class="mat-elevation-z8">
    <mat-card-header><mat-card-title>{{ conData?.name }} Resources</mat-card-title></mat-card-header>
    <mat-form-field style="width: 100%;">
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>

    <table style="width: 100%;" mat-table [dataSource]="dataSource">
  
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef> Type </th>
          <td mat-cell *matCellDef="let element"> {{element.type}} </td>
        </ng-container>
    
        <ng-container matColumnDef="action">
          <!-- empty header is needed because material design widget -->
          <th mat-header-cell *matHeaderCellDef>  </th>
          <td mat-cell *matCellDef="let element"> 
            <div class="jms-ui-table-actions">
              <button mat-button color="primary" [routerLink]="['/sessions', conData.id, element.name]"><mat-icon>open_in_new</mat-icon> Open</button>
              <button mat-button (click)="bookmarkComponent.doBookmark(element)"><mat-icon>star_border</mat-icon> Bookmark</button>
            </div>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="['name', 'type', 'action']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['name', 'type', 'action'];"></tr>
      </table>
      <mat-paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </mat-card>
  
</div>
